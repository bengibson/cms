<%= javascript_include_tag 'tiny_mce/tiny_mce' %>
<script language="javascript" type="text/javascript">
  var whitelabel_imagesurl = "<%= url_for :controller => 'images', :action => 'index', :popup => true %>";
  tinyMCEoptions = {
    mode : "textareas",
    editor_selector : "widgEditor",
    theme : "advanced",
    paste_create_linebreaks : false,
    plugins : "table,contextmenu,paste,visualchars,nonbreaking,xhtmlxtras,whitelabel_image",
    theme_advanced_buttons1 : "bold,italic,underline,strikethrough,|,bullist,numlist,|,formatselect,styleselect,|,undo,redo,|,link,unlink,image,cleanup,|,hr,removeformat,|,sub,sup,|,charmap,code,",
    theme_advanced_buttons2 : "tablecontrols",
    theme_advanced_buttons3 : "",
    theme_advanced_toolbar_location : "top",
    theme_advanced_toolbar_align : "left",
    extended_valid_elements : "a[name|href|target|title|onclick],img[class|src|border=0|alt|title|hspace|vspace|width|height|onmouseover|style|onmouseout|name],hr[class|width|size|noshade],p[class],span[class|align|style]",
    theme_advanced_blockformats : "p,h1,h2,h3,blockquote",
    content_css : "<%= stylesheet_path "wysiwyg_content.css" %>",
    theme_advanced_styles : "Image on left=left;Image on right=right;",
    apply_source_formatting : true,
    convert_newlines_to_brs : false,
    popups_css : '/javascripts/tiny_mce/themes/advanced/css/editor_popup.css'
  };
  tinyMCE.init(tinyMCEoptions);
</script>